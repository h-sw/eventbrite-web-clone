extends ../layout

block content
  .container.show
    p.event-date= event.start.date
    p.event-date= event.end.date
    h4= event.title
    p.event-location= event.location
    if(event.price == 0)
      p Ticket Free!
    else
      p Ticket
      p= event.price

    hr
    h6 Event Type
    p=event.type
    h6 Event Type
    p=event.topic
    hr
    .row
      .col
      .col-3
        if currentUser && event.author == currentUser.id
          a.btn.btn-outline-secondary(href=`/event/${event.id}/edit`) Edit
          a.btn.btn-outline-danger.need-confirm-btn(href=`/event/${event.id}?_method=delete`) Delete

      .col-2
        if log &&log.id == currentUser.id
          button.btn.btn-primary.event-like-btn(data-id=event.id)
            span.for-loading #[i.fa.fa-spin.fa-refresh] Loading
            span #[i.fa.fa-thumbs-up] Register
        else
          p Already Entered!
    hr
    h5 DESCRIPTION
  
  .container
    .row
      .col-6
        .fr-view!= event.contents
  hr.line
  .container.organ.fr-view
    h5 Organization
    p= event.organization
    h5 Organization Infomation
    p= event.organInfo
    if currentUser && event.author == currentUser.id
      hr
      h5 Participant
      each log in logs
        if log.event==event.id
          p= log.name


  script(src='/javascripts/event_client.js')